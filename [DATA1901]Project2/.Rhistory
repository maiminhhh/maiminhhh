ds <- mutate(ds, color_divide = f'c({ds$Coal....GWh}, {ds$Gas....GWh}, {ds$Hydro....GWh}, {ds$Wind....GWh}, {ds$Solar....GWh})')
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
ds <- mutate(ds, total = ds$Coal....GWh + ds$Gas....GWh + ds$Hydro....GWh + ds$Wind....GWh + ds$Solar....GWh)
map <- ggplot(data = ds, aes(x = date, y = total)) +
geom_col()
map[1]
n <- 1
while (n <= dim(ds)[1]) {
coal <-
}
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
ds <- mutate(ds, total = ds$Coal....GWh + ds$Gas....GWh + ds$Hydro....GWh + ds$Wind....GWh + ds$Solar....GWh)
map <- ggplot(data = ds, aes(x = date, y = total)) +
geom_col()
map[1]
View(map)
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
ds <- mutate(ds, total = ds$Coal....GWh + ds$Gas....GWh + ds$Hydro....GWh + ds$Wind....GWh + ds$Solar....GWh)
map <- ggplot(data = ds, aes(x = date, y = total)) +
geom_col()
map[2]
map[3]
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
ds <- mutate(ds, total = ds$Coal....GWh + ds$Gas....GWh + ds$Hydro....GWh + ds$Wind....GWh + ds$Solar....GWh)
map <- ggplot(data = ds, aes(x = date, y = ds$Coal....GWh))
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
ds <- mutate(ds, total = ds$Coal....GWh + ds$Gas....GWh + ds$Hydro....GWh + ds$Wind....GWh + ds$Solar....GWh)
map <- ggplot(data = ds, aes(x = date, y = ds$Coal....GWh))
map
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
ds <- mutate(ds, total = ds$Coal....GWh + ds$Gas....GWh + ds$Hydro....GWh + ds$Wind....GWh + ds$Solar....GWh)
map <- ggplot(data = ds, aes(x = date, y = ds$Coal....GWh)) + geom_col()
map
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
ds <- mutate(ds, total = ds$Coal....GWh + ds$Gas....GWh + ds$Hydro....GWh + ds$Wind....GWh + ds$Solar....GWh)
map1 <- ggplot(data = ds, aes(x = date, y = ds$Coal....GWh)) + geom_col()
map2 <- ggplot(data = ds, aes(x = date, y = ds$Gas....GWh)) + geom_col()
map <- map1 + map2
?ggplot_add()
?barplot()
?data.frame()
?gather
?pivot_longer()
?gather()
?pivot_longer()
df_long
df_long <- tidyr::pivot_longer(df, cols = c(coal, gas, hydro, wind), names_to = 'variables', values_to = 'values')
df_long
df_long
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long
View(df_long)
View(df)
?mutate
df_long <- mutate(df_long, total = df$coal + df$gas + df$hydro + df$wind)
df <- mutate(df_long, total = df$coal + df$gas + df$hydro + df$wind)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
View(df_long)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
View(df_long)
map <- ggplot(df_long, aes = (x = date, y = ds$total)) + geom_col()
map <- ggplot(df_long, aes = (x = df_long$date, y = ds$total)) + geom_col()
map <- ggplot(df_long, aes = (x = df_long$date, y = ds$total)) + geom_col()
map <- ggplot(df_long, aes = (x = df_long$date, y = ds$total)) + geom_col()
?aes()
map <- ggplot(df_long, aes = (date, ds$total)) + geom_col()
map <- ggplot(df_long, aes = (date, ds$total)) + geom_col()
map <- ggplot(df_long, aes = (date, ds$total)) + geom_col()
map <- ggplot(df_long, aes = (date ds$total)) + geom_col()
map <- ggplot(df_long, aes = (date, total)) + geom_col()
map <- ggplot(data_long, aes(x = date, y = df_total)) + geom_col()
map <- ggplot(df_long, aes(x = date, y = df_total)) + geom_col()
map
map <- ggplot(df_long, aes(x = date, y = df$total)) + geom_col()
map
map <- ggplot(ds, aes(x = date, y = df$total)) + geom_col()
map
?geom_col
?arrange()
df_long <- arrange(df_long, desc(date))
View(df_long)
df_long <- subset(df_long, df_long$date == df_long$ate[n], df_long$variable == df_long$variable[n], df_long$value == df_long$value[n+1])}
df_long
df_long <- subset(df_long,
df_long$date == df_long$date[n],
df_long$variable == df_long$variable[n],
df_long$value == df_long$value[n+1])}
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
df_long <- subset(df_long,
df_long$date == df_long$date[n],
df_long$variable == df_long$variable[n],
df_long$value == df_long$value[n+1])
}
n <- n + 1
while (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
df_long <- subset(df_long,
df_long$date == df_long$date[n],
df_long$variable == df_long$variable[n],
df_long$value == df_long$value[n+1])
n <- n + 1
}
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
n <- 1
while (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
df_long <- subset(df_long,
df_long$date == df_long$date[n],
df_long$variable == df_long$variable[n],
df_long$value == df_long$value[n+1])
n <- n + 1
}
dim(df)
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
n <- 1
while (n < dim(df_long[1])) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
df_long <- subset(df_long,
df_long$date == df_long$date[n],
df_long$variable == df_long$variable[n],
df_long$value == df_long$value[n+1])
n <- n + 1
}}
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
n <- 1
while (n <= dim(df_long[1])) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
df_long <- subset(df_long,
df_long$date == df_long$date[n],
df_long$variable == df_long$variable[n],
df_long$value == df_long$value[n+1])
n <- n + 1
}}
n <- n + 1}
n <- n + 1}
while (n <= dim(df_long[1])) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
df_long <- subset(df_long,
df_long$date == df_long$date[n],
df_long$variable == df_long$variable[n],
df_long$value == df_long$value[n+1])
}
n <- n + 1}
dim(df_long)
dim(df_long)[1]
while (n <= dim(df_long)[1]) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
df_long <- subset(df_long,
df_long$date == df_long$date[n],
df_long$variable == df_long$variable[n],
df_long$value == df_long$value[n+1])
}
n <- n + 1}
df_long$date[1]
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
df_long <- subset(df_long,
df_long$date == df_long$date[n] &
df_long$variable == df_long$variable[n] &
df_long$value == df_long$value[n+1])
}
n <- n + 1}
df_long
map <- ggplot(ds, aes(x = date, y = df$total)) + geom_col()
map
df_long
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
df_long <- subset(df_long,
df_long$date == df_long$date[n] &
df_long$variable == df_long$variable[n] &
df_long$value == df_long$value[n+1])
}
n <- n + 1}
map <- ggplot(ds, aes(x = date, y = df$total)) + geom_col()
map
View(df_long)
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
}
n <- n + 1}
n <- n + 1}
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] + df_long$value[n+1]
}
n <- n + 1}
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
df_long <- subset(df_long,
(df_long$date == df_long$date[n] &
df_long$variable == df_long$variable[n] &
df_long$value == df_long$value[n+1]))
}
n <- n + 1}
map <- ggplot(ds, aes(x = date, y = df$total)) + geom_col()
map
View(df_long)
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
}
n <- n + 1}
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] = df_long$value[n] + df_long$value[n+1]
}
n <- n + 1}
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n]==df_long$date[n+1] & df_long$variable[n]==df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] + df_long$value[n+1]
df_long$value[n+1] <- 0
}
n <- n + 1}
if (df_long$date[n] == df_long$date[n+1] & df_long$variable[n] == df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] + df_long$value[n+1]
df_long$value[n+1] <- 0
}
n <- n + 1}
if (df_long$date[n] == df_long$date[n+1] & df_long$variable[n] == df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] + df_long$value[n+1]
df_long$value[n+1] <- 0
}
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA', ds$date!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n] == df_long$date[n+1] & df_long$variable[n] == df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] + df_long$value[n+1]
df_long$value[n+1] <- 0
}
n <- n + 1}
View(df_long)
df_long <- subset(df_long, df_long$value == 0)
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n] == df_long$date[n+1] & df_long$variable[n] == df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] + df_long$value[n+1]
df_long$value[n+1] <- 0
df_long <- subset(df_long, df_long$value == 0)
}
n <- n + 1}
if (df_long$date[n] == df_long$date[n+1] and df_long$variable[n] == df_long$variable[n+1]) {
if (df_long$date[n] == df_long$date[n+1], df_long$variable[n] == df_long$variable[n+1]) {
if (df_long$date[n] == df_long$date[n+1] & df_long$variable[n] == df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] + df_long$value[n+1]
df_long$value[n+1] <- 0
df_long <- subset(df_long, df_long$value == 0)
}
n <- n + 1}
while (n <= dim(df_long)[1]) {
if (df_long$date[n] == df_long$date[n+1] & df_long$variable[n] == df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] + df_long$value[n+1]
df_long$value[n+1] <- 0
df_long <- subset(df_long, df_long$value == 0)
}
n <- n + 1}
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n] == df_long$date[n+1]) {
if (df_long$variable[n] == df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] +
df_long$value[n+1]
df_long$value[n+1] <- 0
df_long <- subset(df_long, df_long$value == 0)
}}
n <- n + 1}
df_long$date[2]
df_long$date[1]
if (df_long$date[1]==df_long$date[2]) {print 'Hooray!'}
if (df_long$date[1]==df_long$date[2]) {print ('Hooray!')}
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA', ds$date!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n] == df_long$date[n+1]) {
if (df_long$variable[n] == df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] +
df_long$value[n+1]
df_long$value[n+1] <- 0
df_long <- subset(df_long, df_long$value == 0)
}}
n <- n + 1}
map <- ggplot(ds, aes(x = date, y = df$total)) + geom_col()
map
View(df_long)
library(ggplot2)
ds <- read.csv("[copy]electricity.csv")
ds <- filter(ds, ds$Coal....GWh!='NA', ds$Gas....GWh!='NA', ds$Hydro....GWh!='NA', ds$Wind!='NA', ds$date!='NA')
df <- data.frame(
date = ds$date,
coal = ds$Coal....GWh,
gas = ds$Gas....GWh,
hydro = ds$Hydro....GWh,
wind = ds$Wind....GWh
)
df <- mutate(df, total = df$coal + df$gas + df$hydro + df$wind)
df_long <- tidyr::gather(df, key = 'variable', value = 'value', -date)
df_long <- arrange(df_long, desc(date))
dim(df_long)[1]
n <- 1
while (n <= dim(df_long)[1]) {
if (df_long$date[n] == df_long$date[n+1]) {
if (df_long$variable[n] == df_long$variable[n+1]) {
df_long$value [n] <- df_long$value[n] +
df_long$value[n+1]
df_long$value[n+1] <- 0
df_long_new <- subset(df_long, df_long$value == 0)
}}
n <- n + 1}
